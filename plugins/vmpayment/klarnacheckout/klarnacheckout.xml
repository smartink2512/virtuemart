<?xml version="1.0" encoding="UTF-8" ?>
<extension version="2.5" type="plugin" group="vmpayment">
    <name>Klarna Checkout</name>
    <creationDate>${PHING.VM.RELDATE}</creationDate>
    <author>The VirtueMart Development Team</author>
    <authorUrl>http://www.virtuemart.net</authorUrl>
    <copyright>${PHING.VM.COPYRIGHT}</copyright>
    <license>http://www.gnu.org/licenses/gpl-2.0.html GNU/GPL</license>
    <version>${PHING.VM.RELEASE}</version>
    <files>
        <filename plugin="klarnacheckout">klarnacheckout.php</filename>
    </files>
    <config>
        <fields name="params">
            <fieldset name="basic" addfieldpath="/plugins/vmpayment/klarnacheckout/klarnacheckout/elements">
                <field type="klarnalogo"  />
                <field type="vmcurl"/>
                <field type="customjs" />
                <field heading="span" type="vmnote" label="VMPAYMENT_KLARNACHECKOUT_WARNING"/>
                <field name="documentation" heading="span" type="vmnote" label="VMPAYMENT_DOCUMENTATION"
                       description="  &lt;a href=&quot;http://cdn.klarna.com/1.0/shared/content/integration/guide/virtuemart.pdf&quot; target=&quot;_blank&quot;&gt;Documentation&lt;/a&gt;"/>
            </fieldset>
            <fieldset name="payment">
                <field name="purchase_country" multiple="false" type="vmcountries" default=""
                       label="VMPAYMENT_KLARNACHECKOUT_PURCHASE_COUNTRY"
                       description="VMPAYMENT_KLARNACHECKOUT_PURCHASE_COUNTRY_DESC"/>

                <field name="merchantid" type="text" required="true" default=""  size="50"
                       label="VMPAYMENT_KLARNA_CONF_MERCHANT_ID"
                       description="VMPAYMENT_KLARNA_CONF_MERCHANT_ID_DESC"/>
                <field name="sharedsecret" type="text" required="true" default="" size="50"
                       label="VMPAYMENT_KLARNA_CONF_SHARED_SECRET"
                       description="VMPAYMENT_KLARNA_CONF_SHARED_SECRET_DESC"/>
                <field name="server" type="list" default="0" label="VMPAYMENT_KLARNACHECKOUT_SERVER"
                       description="VMPAYMENT_KLARNACHECKOUT_SERVER_DESC">
                    <option value="beta">VMPAYMENT_KLARNACHECKOUT_SERVER_BETA</option>
                    <option value="live">VMPAYMENT_KLARNACHECKOUT_SERVER_LIVE</option>
                </field>
                <field name="payment_currency" type="vmacceptedcurrency" default=""
                       label="VMPAYMENT_KLARNACHECKOUT_PURCHASE_CURRENCY"
                       description="VMPAYMENT_KLARNACHECKOUT_PURCHASE_CURRENCY_DESC"/>
                <field name="locale" type="language" default=""
                       label="VMPAYMENT_KLARNACHECKOUT_LOCALE" description="VMPAYMENT_KLARNACHECKOUT_LOCALE_DESC"/>
            </fieldset>

            <fieldset name="orderstatus">
                <field name="status_checkout_complete" type="vmorderstate" default="C"
                       label="VMPAYMENT_KLARNACHECKOUT_checkout_complete"
                       description="VMPAYMENT_KLARNACHECKOUT_checkout_complete_DESC"/>
                <field name="status_activate" type="vmorderstate" default="S"
                       label="VMPAYMENT_KLARNACHECKOUT_ACTIVATE_RESERVATION"
                       description="VMPAYMENT_KLARNACHECKOUT_ACTIVATE_RESERVATION_DESC"/>
                <field name="status_cancelReservation" type="vmorderstate" default="X"
                       label="VMPAYMENT_KLARNACHECKOUT_CANCEL_RESERVATION"
                       description="VMPAYMENT_KLARNACHECKOUT_CANCEL_RESERVATION_DESC"/>
                <!--param name="status_changeReservation" type="vmorderstate" default="X"
                       label="VMPAYMENT_KLARNACHECKOUT_CHANGE_RESERVATION"
                       description="VMPAYMENT_KLARNACHECKOUT_CHANGE_RESERVATION_DESC"/ -->
            </fieldset>

            <fieldset name="template">
                <field name="payment_logos" class="payment_logos show_payment_logo" default="1" type="radio"
                       label="VMPAYMENT_KLARNACHECKOUT_LOGOS" description="VMPAYMENT_KLARNACHECKOUT_LOGOS_DESC">
                    <option value="0">COM_VIRTUEMART_NO</option>
                    <option value="1">COM_VIRTUEMART_YES</option>
                </field>
            </fieldset>


            <fieldset name="restrictions">
                <field name="min_amount" type="text" label="VMPAYMENT_MIN_AMOUNT"
                       description="VMPAYMENT_MIN_AMOUNT_TIP"/>
                <field name="max_amount" type="text" label="VMPAYMENT_MAX_AMOUNT"
                       description="VMPAYMENT_MAX_AMOUNT_TIP"/>
            </fieldset>

            <field name="cost_percent_total" type="hidden"/>
            <field name="cost_per_transaction" type="hidden"/>

            <fieldset name="debug">
                <field name="debug" type="hidden" default="0" label="VMPAYMENT_DEBUG"
                       description="VMPAYMENT_AUTHORIZENET_DEBUG_DESC">
                    <option value="0">COM_VIRTUEMART_NO</option>
                    <option value="1">COM_VIRTUEMART_YES</option>
                </field>
                <field name="log" type="list" default="0" label="VMPAYMENT_LOG"
                       description="VMPAYMENT_AUTHORIZENET_LOG_DESC">
                    <option value="0">COM_VIRTUEMART_NO</option>
                    <option value="1">COM_VIRTUEMART_YES</option>
                </field>
            </fieldset>
        </fields>
    </config>

</extension>
